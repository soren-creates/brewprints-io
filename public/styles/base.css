/* Base styles */
:root {
    /* Theme Color Scheme Variables */
    --theme-hue: 280;               /* Purple hue (0-360) */
    --theme-chroma: 0.025;           /* Base chroma for OKLCH (0-0.4 max) */
    --theme-tint: hsl(var(--theme-hue), 30%, 50%);  /* Theme color for mixing */
    --theme-tint-amount: 8%;        /* How much theme color to mix in */
    
    /* Base neutral grays for mixing */
    --neutral-900: #0a0a0a;
    --neutral-800: #171717;
    --neutral-700: #1f1f1f;
    --neutral-600: #2a2a2a;
    --neutral-500: #333333;
    --neutral-400: #4a4a4a;
    
    /* Gray Scale System - Dynamic theme-tinted grays using color-mix */
    --black: #000000;               /* Pure black */
    --gray-900: color-mix(in srgb, var(--neutral-900) calc(100% - var(--theme-tint-amount)), var(--theme-tint));
    --gray-800: color-mix(in srgb, var(--neutral-800) calc(100% - var(--theme-tint-amount)), var(--theme-tint));
    --gray-700: color-mix(in srgb, var(--neutral-700) calc(100% - var(--theme-tint-amount)), var(--theme-tint));
    --gray-600: color-mix(in srgb, var(--neutral-600) calc(100% - var(--theme-tint-amount)), var(--theme-tint));
    --gray-500: color-mix(in srgb, var(--neutral-500) calc(100% - var(--theme-tint-amount)), var(--theme-tint));
    --gray-400: color-mix(in srgb, var(--neutral-400) calc(100% - var(--theme-tint-amount)), var(--theme-tint));
    --gray-350: #757575;            /* Disabled text - keeping neutral */
    --gray-300: #888888;            /* Print gray/muted text - keeping neutral */
    --gray-200: #9e9e9e;            /* Disabled/optional states - keeping neutral */
    --muted-text-color: #b0b0b0;    /* Muted text */
    --text-color: #e0e0e0;          /* Main text color */
    --text-hover-color: #f5f5f5;   /* Text hover state */
    --white: #ffffff;               /* Pure white */
    
    /* Semantic Colors - Using dynamic theme mixing */
    --header-background-color: var(--gray-700);
    --header-border-color: color-mix(in srgb, var(--gray-400) 80%, var(--gray-500));
    --body-background-color: color-mix(in srgb, var(--gray-900) 70%, var(--gray-800));
    --accent-color: #429eff;
    --success-color: #4fbb40;
    --warning-color: #eab308;
    --error-color: #ef4444;
    
    /* Volume Tracking Colors */
    --volume-addition: #4fbb40;
    --volume-subtraction: #ef4444; 
    --volume-subtotal: #429eff;
    
    /* Data Preview Badge Colors */
    --badge-found: #096900;
    --badge-beerxml: #983a00;
    --badge-beerjson: #030069;
    --badge-missing-required: #690012;
    
    /* Badge Text Colors */
    --badge-found-text: #5bff5b;
    --badge-beerxml-text: #ffcc4d;
    --badge-beerjson-text: #4da6ff;
    --badge-missing-required-text: #ff4d4d;
    
    /* Rainbow Animation Colors */
    --rainbow-1: #ff0000;
    --rainbow-2: #ff8c00;
    --rainbow-3: #ffff00;
    --rainbow-4: #00ff00;
    --rainbow-5: #00ffff;
    --rainbow-6: #0080ff;
    --rainbow-7: #8000ff;
    --rainbow-8: #ff00ff;
    --rainbow-9: #ff0080;
    
    /* Overlay & Backdrop Colors */
    --overlay-transparent: rgba(0, 0, 0, 0.2);
    --overlay-light: rgba(0, 0, 0, 0.5);
    --overlay-medium: rgba(0, 0, 0, 0.7);
    --gradient-overlay: linear-gradient(to left, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 0) 100%);
    
    /* Text Shadow Utilities */
    --text-shadow-medium: 1px 1px 3px rgba(0, 0, 0, 0.7);
    --text-shadow-strong: 2px 2px 4px rgba(0, 0, 0, 0.8);
    
    /* Functional Colors */
    --hover-bg: color-mix(in srgb, var(--accent-color) 20%, transparent);
    --shadow-color: rgba(0, 0, 0, 0.4);
    --accent-glow-shadow: rgba(100, 74, 226, 0.4);

    /* Spacing and Layout */
    --max-width: 8.5in;
    --border-radius-2xl: 12px;
    --border-radius: 4px;
    --border-radius-sm: 3px;
    --box-shadow: 0 2px 4px var(--shadow-color);
    
    /* Spacing System - Comprehensive Scale */
    --spacing-3xs: 0.1rem;     /* 1.6px - very tiny adjustments */
    --spacing-2xs: 0.125rem;   /* 2px - fine details */
    --spacing-xs: 0.25rem;     /* 4px - tight spacing */
    --spacing-sm: 0.5rem;      /* 8px - small spacing */
    --spacing-md-sm: 0.75rem;  /* 12px - medium-small spacing */
    --spacing-md: 1rem;        /* 16px - standard spacing */
    --spacing-md-lg: 1.25rem;  /* 20px - medium-large spacing */
    --spacing-lg: 1.5rem;      /* 24px - large spacing */
    --spacing-xl: 2rem;        /* 32px - extra large spacing */
    --spacing-xl-lg: 2.5rem;   /* 40px - button/component dimensions */
    --spacing-2xl: 3rem;       /* 48px - section spacing */
    --spacing-3xl: 3.75rem;    /* 60px - header height */
    
    /* Component-Specific Dimensions */
    --header-height: 60px;
    --header-content-height: 40px;
    --floating-button-size: 50px;
    --modal-max-width: 500px;
    --container-max-width: 1200px;
    --system-font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Tahoma, Geneva, Verdana, sans-serif;
    --heading-font-family: "Fredericka the Great", sans-serif;
    --alt-heading-font-family: "gambado-scotch", serif;
    --subheading-font-family: "grandstander-variable", sans-serif;
    --body-font-family: "ivysoft-variable", sans-serif;
    --base-font-size: 16px;
    --base-line-height: 1.3;
    
    /* Z-Index Layer System */
    --z-base: 1;                    /* Base content layer */
    --z-content: 10;                /* Content overlays */
    --z-controls: 100;              /* UI controls */
    --z-navigation: 500;            /* Navigation elements */
    --z-header: 1000;               /* App header */
    --z-floating: 1500;             /* Floating buttons */
    --z-loading: 2000;              /* Loading overlays */
    --z-recipe-loader: 2500;        /* Recipe loading */
    --z-modal: 3000;                /* Standard modals */
    --z-dropdown: 5000;             /* Dropdowns and popovers */
    --z-toast: 10000;               /* Toast notifications */
    --z-tooltip: 15000;             /* Tooltips */
}

*,
*::before,
*::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: var(--body-font-family), sans-serif;
    max-width: 800px;
    margin: 0 auto;
    padding: var(--spacing-md);
    background-color: var(--body-background-color);
    color: var(--text-color);
    line-height: 1.3;
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
}

main {
    padding-top: var(--header-height);
}

ul,
ol {
    list-style: none;
}

img,
picture {
    max-width: 100%;
    display: block;
}

input,
button,
textarea,
select {
    font: inherit;
}

h1,
h2,
h3,
h4,
h5,
h6 {
    font-family: var(--heading-font-family), sans-serif;
    color: var(--text-color);
    line-height: 1.1;
    margin-bottom: 0.5em;
}

h1,
h2 {
    font-family: var(--heading-font-family), sans-serif;
}

h3,
h4,
h5,
h6 {
    font-family: var(--subheading-font-family), sans-serif;
}

h1 {
    font-size: 3.3em;
}

h2 {
    font-size: 1.7em;
}

h3 {
    font-size: 1.4em;
    margin-bottom: 0.1em;
}

h4 {
    font-size: 1em;
}

h5 {
    font-size: 0.85em;
}

h6 {
    font-size: 0.7em;
}

p {
    line-height: 1.3;
    font-size: 0.8em;
}

.text-small {
    font-size: 0.875rem;
}

.text-medium {
    font-size: 1.1rem;
}

.text-semibold {
    font-weight: 600;
}

.text-center {
    text-align: center;
}

a {
    color: var(--success-color);
    text-decoration: none;
}

a:hover {
    text-decoration: underline;
    color: color-mix(in srgb, var(--accent-color) 85%, black);
}

.visually-hidden {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

.page {
    display: block;
}

.page:not(.active) {
    display: none;
}

/* Hide all pages initially except the loading container during app initialization */
body:not(.app-initialized) .page:not(#initialLoadingContainer) {
    display: none !important;
}

#recipe-page {
    display: none;
}

#recipe-page.active {
    display: block;
}

/* === PRIVATE RECIPE OVERLAY === */

.private-recipe-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: color-mix(in srgb, var(--gray-900) 80%, transparent);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.private-recipe-message {
  background: var(--gray-600);
  border: 1px solid var(--gray-400);
  border-radius: 8px;
  padding: var(--spacing-xl);
  text-align: center;
  max-width: 400px;
  width: 90%;
}

.private-recipe-icon {
  font-size: 3rem;
  margin-bottom: var(--spacing-md);
}

.private-recipe-message h2 {
  color: var(--text-color);
  margin: 0 0 var(--spacing-md) 0;
}

.private-recipe-message p {
  color: var(--muted-text-color);
  margin: 0 0 var(--spacing-xl) 0;
  line-height: 1.5;
}

.private-recipe-actions {
  display: flex;
  gap: var(--spacing-md);
  justify-content: center;
}

.private-recipe-message .home-btn {
  padding: var(--spacing-md-sm) var(--spacing-lg);
  border: none;
  border-radius: var(--border-radius);
  cursor: pointer;
  font-weight: 600;
  transition: background-color 0.2s ease;
  background: var(--gray-500);
  color: white;
}

.private-recipe-message .home-btn:hover {
  background: var(--gray-400);
}

/* OKLCH Color Support - Enhanced colors for modern browsers */
@supports (color: oklch(50% 0.1 180)) {
    :root {
        /* Theme-tinted Gray Scale with OKLCH */
        --gray-900: oklch(8% calc(var(--theme-chroma) * 0.5) var(--theme-hue));
        --gray-800: oklch(15% calc(var(--theme-chroma) * 0.75) var(--theme-hue));
        --gray-700: oklch(20% var(--theme-chroma) var(--theme-hue));
        --gray-600: oklch(25% calc(var(--theme-chroma) * 1.25) var(--theme-hue));
        --gray-500: oklch(30% calc(var(--theme-chroma) * 1.5) var(--theme-hue));
        --gray-400: oklch(40% calc(var(--theme-chroma) * 1.25) var(--theme-hue));
        --muted-text-color: oklch(70% var(--theme-chroma) var(--theme-hue));
        --text-color: oklch(90% var(--theme-chroma) var(--theme-hue));
        --text-hover-color: oklch(97% calc(var(--theme-chroma) * 5) var(--theme-hue));

        /* Semantic Colors with theme integration */
        --header-background-color: oklch(18% var(--theme-chroma) var(--theme-hue));
        --header-border-color: oklch(35% var(--theme-chroma) var(--theme-hue));
        --body-background-color: oklch(13% var(--theme-chroma) var(--theme-hue));
        
        /* Accent Colors */
        --accent-color: oklch(67% 0.15 254);
        @media print { --accent-color: oklch(48% 0.15 254); } 
        --success-color: oklch(67% 0.2 142);
        --warning-color: oklch(67% 0.2 86);
        --error-color: oklch(67% 0.2 27);

        /* Volume Tracking Colors */
        --volume-addition: oklch(65% 0.18 142);
        --volume-subtraction: oklch(60% 0.18 27);
        --volume-subtotal: oklch(60% 0.18 254);

        /* Data Preview Badge Colors */
        --badge-found: oklch(35% 0.120 142);
        --badge-beerxml: oklch(35% 0.120 65);
        --badge-beerjson: oklch(35% 0.120 254);
        --badge-missing-required: oklch(35% 0.120 27);
        
        /* Dynamic Badge Text Colors */
        --badge-found-text: oklch(from var(--badge-found) calc(l * 2.6) calc(c + 0.2) h);
        --badge-beerxml-text: oklch(from var(--badge-beerxml) calc(l * 2.6) calc(c + 0.2) h);
        --badge-beerjson-text: oklch(from var(--badge-beerjson) calc(l * 2.6) calc(c + 0.2) h);
        --badge-missing-required-text: oklch(from var(--badge-missing-required) calc(l * 2.6) calc(c + 0.2) h);

        /* Rainbow Animation Colors */
        --rainbow-1: oklch(62.8% 0.218 27);
        --rainbow-2: oklch(74.9% 0.150 65);
        --rainbow-3: oklch(94.8% 0.206 103);
        --rainbow-4: oklch(84.6% 0.294 142);
        --rainbow-5: oklch(91.2% 0.139 195);
        --rainbow-6: oklch(69.5% 0.156 252);
        --rainbow-7: oklch(58.2% 0.183 307);
        --rainbow-8: oklch(70.2% 0.204 328);
        --rainbow-9: oklch(65.5% 0.211 8);
        
        /* Functional Colors */
        --hover-bg: color-mix(in oklch, var(--accent-color) 20%, transparent);
    }
}

@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}